(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{21:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var c,r,s=n(7),a=n.n(s),o=n(3),u=n(13),i=n(4),l=n(2);!function(e){e.LOAD_TODOS="TODOS_LOAD",e.SET_VISIBILITY_FILTER="SET_VISIBILITY_FILTER",e.LOAD_USER="LOAD_USER",e.CLEAR_USER="CLEAR_USER",e.DELETE_TODO="DELETE_TODO",e.TOGGLE_COMPLETED="TOGGLE_COMPLETED"}(c||(c={})),function(e){e.SHOW_ALL="SHOW_ALL",e.SHOW_COMPLETED="SHOW_COMPLETED",e.SHOW_ACTIVE="SHOW_ACTIVE"}(r||(r={}));var d=c.LOAD_TODOS,O=c.SET_VISIBILITY_FILTER,j=c.LOAD_USER,b=c.CLEAR_USER,_=c.DELETE_TODO,p=c.TOGGLE_COMPLETED,f={todos:[],visibilityFilter:r.SHOW_ALL,currentUser:null},h=Object(i.b)({reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{todos:t.payload.data});case O:return Object(l.a)(Object(l.a)({},e),{},{visibilityFilter:t.payload.filter});case _:return function(){var n=e.todos.filter((function(e){return e.id!==t.payload.id}));return Object(l.a)(Object(l.a)({},e),{},{todos:n})}();case p:return function(){var n=e.todos.map((function(e){return e.id===t.payload.id?Object(l.a)(Object(l.a)({},e),{},{completed:!e.completed}):e}));return Object(l.a)(Object(l.a)({},e),{},{todos:n})}();case j:return Object(l.a)(Object(l.a)({},e),{},{currentUser:t.payload.data});case b:return Object(l.a)(Object(l.a)({},e),{},{currentUser:null});default:return e}}}),T=Object(u.a)({reducer:h}),E=n(0),m=(n(21),n(6)),L=n(5),x=n.n(L),v="https://mate.academy/students-api/";function y(e){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/users/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(){var e=Object(m.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=c.LOAD_TODOS,D=c.LOAD_USER,A=c.CLEAR_USER,N=c.DELETE_TODO,R=c.TOGGLE_COMPLETED,U=c.SET_VISIBILITY_FILTER,k=(n(23),n(1)),w=function(){var e=Object(o.c)((function(e){return e.reducer.currentUser})),t=Object(o.b)(),n=Object(E.useCallback)((function(){t({type:A})}),[]);return Object(k.jsx)(k.Fragment,{children:e&&Object(k.jsxs)("div",{className:"Current-user",children:[Object(k.jsx)("h2",{className:"CurrentUser__title",children:"Selected user: ".concat(e.id)}),Object(k.jsx)("h3",{className:"Current-user__name",children:e.name}),Object(k.jsx)("p",{className:"Current-user__email",children:e.email}),Object(k.jsx)("p",{className:"Current-user__phone",children:e.phone}),Object(k.jsx)("button",{type:"button",onClick:n,className:"Current-user__clear button",children:"Clear"})]})})},H=n(12),W=n(10),g=n.n(W),F=(n(25),function(){var e=Object(E.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],s=Object(o.c)((function(e){return e.reducer.todos})),a=Object(o.c)((function(e){return e.reducer.visibilityFilter})),u=Object(o.c)((function(e){return e.reducer.currentUser})),i=Object(E.useMemo)((function(){return s.filter((function(e){var t=e.title.toLowerCase().includes(n);switch(a){case r.SHOW_ALL:return t;case r.SHOW_COMPLETED:return t&&e.completed;case r.SHOW_ACTIVE:return t&&!e.completed;default:return t}}))}),[a,s,n]),l=Object(o.b)(),d=function(e){l(function(e){return{type:N,payload:{id:e}}}(e))},O=function(e){l(function(e){return{type:R,payload:{id:e}}}(e))},j=function(e){l(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(n){var c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:c=t.sent,n({type:D,payload:{data:c}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(k.jsxs)("div",{className:"Todo-list",children:[Object(k.jsx)("h2",{children:"Todos:"}),Object(k.jsxs)("div",{className:"Todo-list__control",children:[Object(k.jsx)("label",{className:"Todo-list__filter-by-title Todo-list__input-label",children:Object(k.jsx)("input",{type:"text",placeholder:"Filter by title",className:"Todo-list__input",value:n,onChange:function(e){c(e.target.value)}})}),Object(k.jsxs)("select",{className:"Todo-list__filter-by-completed Todo-list__select",value:a,onChange:function(e){var t;l((t=e.target.value,{type:U,payload:{filter:t}}))},children:[Object(k.jsx)("option",{value:r.SHOW_ALL,children:"All"}),Object(k.jsx)("option",{value:r.SHOW_ACTIVE,children:"Active"}),Object(k.jsx)("option",{value:r.SHOW_COMPLETED,children:"Completed"})]}),Object(k.jsx)("ul",{className:"Todo-list__list","data-cy":"listOfTodos",children:!!i.length&&i.map((function(e){return Object(k.jsxs)("li",{className:g()("Todo-list__item",{"Todo-list__item--checked":e.completed},{"Todo-list__item--unchecked":!e.completed}),children:[Object(k.jsx)("div",{className:"Todo-list__todo",children:Object(k.jsxs)("label",{children:[Object(k.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){return O(e.id)}}),Object(k.jsx)("p",{className:"Todo-list__todo-title",children:e.title})]})}),Object(k.jsxs)("div",{className:"Todo-list__buttons",children:[e.userId&&Object(k.jsx)("button",{className:g()("Todo-list__user-button","Todo-list__button",{"Todo-list__user-button--selected":u&&u.id===e.userId}),type:"button",onClick:function(){return j(e.userId)},children:"User #".concat(e.userId)}),Object(k.jsx)("button",{type:"button",className:"Todo-list__button button-x",onClick:function(){return d(e.id)},children:"\xd7"})]})]},e.id)}))})]})]})}),M=function(){var e=Object(o.c)((function(e){return e.reducer.currentUser})),t=Object(o.b)();return Object(E.useEffect)((function(){t(function(){var e=Object(m.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:n=e.sent,t({type:I,payload:{data:n}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)("div",{className:"App__sidebar",children:Object(k.jsx)(F,{})}),Object(k.jsx)("div",{className:"App__user",children:e?Object(k.jsx)(w,{}):"No user selected"})]})},G=function(){return Object(k.jsx)(o.a,{store:T,children:Object(k.jsx)(M,{})})};a.a.render(Object(k.jsx)(G,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.1435d319.chunk.js.map